!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/assets/js/",t(t.s=20)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.min=1,this.max=20,this.step=1,this.context=jQuery(e.container).hasClass("slider-container")?jQuery(e.container):jQuery(e.container).find(".slider-container"),this.min=e.params.sliderControls.min,this.max=e.params.sliderControls.max,this.step=e.params.sliderControls.step,this.value=e.params.value,this.context&&this.init()}return e.prototype.init=function(){var e=this.context.find(".ss-slider"),t=this.context.find(".rl-slider"),n=t.attr("id"),o=e.attr("id");jQuery("#"+o).slider({value:this.value,range:"min",min:this.min,max:this.max,step:this.step,slide:function(e,t){jQuery("#"+n).attr("value",t.value)},stop:function(e,t){jQuery("#"+n).trigger("change")}}),jQuery(t).on("focus",function(){jQuery(this).blur()}),jQuery("#"+n).attr("value",jQuery("#"+o).slider("value"))},e}();t.EpsilonRangeSlider=o},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){var t,n=this;this.control=e,this.context=jQuery(e.container).find(".epsilon-color-picker"),this.settings={changeDelay:500,theme:"default",change:this.changePallete},"function"==typeof jQuery.fn.minicolors&&(""!==this.context.attr("placeholder")&&(this.context.defaultValue=this.context.attr("placeholder")),"rgba"===this.context.attr("data-attr-mode")&&(this.context.format="rgb",this.context.opacity=!0),this.context.minicolors(this.settings),t=this.context.parents(".customize-control-epsilon-color-picker").find("a"),t.length||(t=this.context.parents(".repeater-field-epsilon-color-picker").find("a")),t.on("click",function(e){e.preventDefault(),n.instance=jQuery(this).parents(".customize-control-epsilon-color-picker").find("input.epsilon-color-picker"),n.instance.length||(n.instance=jQuery(this).parents(".repeater-field-epsilon-color-picker").find("input.epsilon-color-picker")),n.instance.minicolors("value",jQuery(this).attr("data-default")),n.instance.trigger("change")}))}return e.prototype.changePallete=function(e,t){jQuery(".epsilon-color-scheme-selected").find('*[data-field-id="'+jQuery(this).attr("data-customize-setting-link")+'"]').css("background-color",e)},e}();t.EpsilonColorPicker=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.control=e,this.context=this.control.container.find(".epsilon-color-scheme"),this.context.length&&this.init()}return e.prototype.init=function(){var e=this,t=this.context.find(".epsilon-color-scheme-option"),n=this.context.parent().find("[data-customize-setting-link]").first(),o=jQuery.parseJSON(t.first().find("input").val()),i=wp.customize,s=[],r={action:"epsilon_generate_color_scheme_css",class:"Epsilon_Color_Scheme",id:"",data:{}};jQuery.each(o,function(e,t){s.push(e)}),_.each(s,function(t){r.data[t]=i(t)(),void 0!==i.control(t)&&i.control(t).container.on("change","input.epsilon-color-picker",_.debounce(function(){e.context.siblings(".epsilon-color-scheme-selected").find(".epsilon-color-scheme-palette").find('*[data-field-id="'+t+'"]').css("background",jQuery(this).attr("value")),r.data[t]=i(t)(),i.previewer.send("update-inline-color-schemes-css",r)},800))}),t.on("click",function(){var t=jQuery(this).attr("data-color-id"),o=jQuery(this).find("input").val();o&&(o=jQuery.parseJSON(o)),jQuery.each(o,function(t,n){jQuery("#customize-control-"+t+" .epsilon-color-picker").minicolors("value",n),i(t).set(n),e.context.siblings(".epsilon-color-scheme-selected").find(".epsilon-color-scheme-palette").find('*[data-field-id="'+t+'"]').css("background",n)}),jQuery(this).siblings(".epsilon-color-scheme-option").removeClass("selected"),jQuery(this).addClass("selected"),n.val(t).trigger("change")}),jQuery(".epsilon-control-dropdown").on("click",function(){jQuery(this).toggleClass("active"),jQuery(this).find("span").toggleClass("dashicons-arrow-down dashicons-arrow-up"),e.context.slideToggle()})},e}();t.EpsilonColorSchemes=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.context=jQuery(e.container),this.init()}return e.prototype.init=function(){this.context.find(".epsilon-customizer-navigation").on("click",function(e){e.preventDefault(),void 0!==wp.customize.section(jQuery(e.target).attr("data-customizer-section"))&&(jQuery(e.target).attr("data-doubled")?wp.customize.section(jQuery(e.target).attr("data-customizer-section")).headContainer.trigger("click"):wp.customize.section(jQuery(e.target).attr("data-customizer-section")).focus())})},e}();t.EpsilonCustomizerNavigation=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.control=e,this.context=this.control.container,this.collection=this.context.find(".epsilon-icons > i"),this.searchInput=this.context.find(".search-container input"),this.inRepeater=t,this.handleEvents()}return e.prototype.handleEvents=function(){var e,t,n,o,i=this;this.context.on("click",".epsilon-open-icon-picker",function(e){e.preventDefault(),jQuery(e.target).toggleClass("opened-icon-picker"),i.context.find(".epsilon-icon-picker-container").toggleClass("opened")}),this.context.on("click",".epsilon-icons-container .epsilon-icons > i",function(n){i.context.find(".epsilon-icons > i.selected").removeClass("selected"),e=jQuery(n.target).addClass("selected").attr("data-icon"),t=jQuery(n.target).addClass("selected").attr("data-search"),i.context.find(".epsilon-icon-name > i").removeClass().addClass(e),i.context.find(".epsilon-icon-name > .icon-label").html(t),i.inRepeater?i.context.find(".epsilon-icon-picker").attr("value",e).trigger("change"):i.control.setting.set(e)}),i.context.on("keyup change",".search-container input",_.debounce(function(e){o=i.searchInput.val(),void 0!==o&&(o=o.toLowerCase()),jQuery.each(i.collection,function(){n=jQuery(this).attr("data-search"),void 0!==n&&(n=n.toLowerCase()),jQuery(this)[-1!==n.indexOf(o)?"show":"hide"]()})},1e3))},e}();t.EpsilonIconPicker=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.control=e,this.context=jQuery(e.container),this.handleEvents()}return e.prototype.handleEvents=function(){var e,t,n,o,i=this,s={id:"",url:""},r=this.context.find(".epsilon-controller-image-container > input");this.context.on("click",".image-upload-button",function(o){e=wp.media({multiple:!1}).open(),e.on("select",function(){t=e.state().get("selection").first(),n=r.attr("data-size"),void 0===t.toJSON().sizes[n]&&(n="full"),s.id=t.id,s.url=t.toJSON().sizes[n].url,i.saveValue(s),i.setImage(s.url),i.context.find(".actions .image-upload-remove-button").show(),_.isEmpty(i.control.params.default)||i.context.find(".actions .image-default-button").show()})}),this.context.on("click",".image-upload-remove-button",function(e){e.preventDefault(),o=i.context.find(".epsilon-image"),i.saveValue({id:"",url:""}),o.length&&o.find("img").fadeOut(200,function(){o.removeClass("epsilon-image").addClass("placeholder").html(EpsilonTranslations.selectFile)}),jQuery(e.target).hide(),_.isEmpty(i.control.params.default)||i.context.find(".actions .image-default-button").show()}),i.context.on("click",".image-default-button",function(e){e.preventDefault(),o=i.context.find(".epsilon-image"),i.saveValue(i.control.params.default),i.setImage(i.control.params.default.url),i.context.find(".actions .image-upload-remove-button").show()})},e.prototype.setImage=function(e){var t=this.context.find(".epsilon-image").length?this.context.find(".epsilon-image"):this.context.find(".placeholder");t.length&&(t.removeClass("epsilon-image placeholder").addClass("epsilon-image"),t.html(""),t.append('<img style="display:none" src="'+e+'" />'),t.find("img").fadeIn(200))},e.prototype.saveValue=function(e){var t=this.context.find(".epsilon-controller-image-container > input");"object"==typeof e&&""!==e.id?(this.control.setting.set(JSON.stringify(e)),jQuery(t).attr("value",JSON.stringify(e)).trigger("change")):(this.control.setting.set(""),jQuery(t).attr("value","").trigger("change"))},e}();t.EpsilonImage=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.html={buttonLeft:'<a href="#" data-action="left"><span class="dashicons dashicons-arrow-left"></span> </a>',buttonRight:'<a href="#" data-action="right"><span class="dashicons dashicons-arrow-right"></span> </a>'},this.activeColumns=null,this.colClasses="col12 col11 col10 col9 col8 col7 col6 col5 col4 col3 col2 col1",this.control=e,this.context=this.control.container,this.layoutButtons=this.context.find(".epsilon-control-group > a"),this.resizeButtons=this.context.find(".epsilon-layouts-setup > .epsilon-column > a"),this.maxColumns=this.layoutButtons.length,this.minSpan=parseFloat(this.control.params.minSpan),this.lastColumnsState=null,this.dataLink=this.context.find("[data-customize-setting-link]").first(),this.handle_actions(),this.context.on("epsilon_column_count_changed epsilon_column_size_changed",this._save)}return e.prototype.handle_actions=function(){this._advanced_toggler(),this._column_resize(),this._column_recount(),this._layout_select(),this._equalize_columns()},e.prototype._advanced_toggler=function(){this.context.on("click",".epsilon-control-advanced",function(e){e.preventDefault(),jQuery(this).toggleClass("active"),jQuery("#"+jQuery(this).attr("data-unique-id")).slideToggle().addClass("active")})},e.prototype._column_resize=function(){var e,t,n,o=this;this.context.on("click",".epsilon-column > a",function(i){n=jQuery(this).parent(),e=n.index(),t="right"===jQuery(this).attr("data-action")?o.context.find(".epsilon-layouts-setup > .epsilon-column").eq(e+1):o.context.find(".epsilon-layouts-setup > .epsilon-column").eq(e-1),o._calc_column_resize(t,n)})},e.prototype._column_recount=function(){var e,t,n,o=this;this.context.on("epsilon_column_count_change",function(i){if(o.activeColumns=parseFloat(i.columns.selected),o.lastColumnsState=i.columns.beforeSelection,o.activeColumns!==o.lastColumnsState){if(e=o.lastColumnsState<o.activeColumns?"adding":"subtracting",t=o.activeColumns-o.lastColumnsState,"subtracting"===e)o.context.find(".epsilon-layouts-setup > .epsilon-column").slice(-(o.lastColumnsState-o.activeColumns)).remove();else for(n=0;n<t;n++)o.context.find(".epsilon-layouts-setup").append('<div class="epsilon-column col4">'+o.html.buttonLeft+o.html.buttonRight+"</div>");o.context.trigger({type:"epsilon_column_count_changed",instance:o})}})},e.prototype._layout_select=function(){var e=this;this.layoutButtons.on("click",function(t){t.preventDefault();var n=jQuery(this).attr("data-button-value");e.context.trigger({type:"epsilon_column_count_change",columns:{selected:parseFloat(n),beforeSelection:e.context.find(".epsilon-layouts-setup > .epsilon-column").length}}),jQuery(this).addClass("active").siblings("a").removeClass("active")})},e.prototype._equalize_columns=function(){var e=this;this.context.on("epsilon_column_count_changed",function(t){switch(e.activeColumns){case 2:e.context.find(".epsilon-column").removeClass(e.colClasses),e.context.find(".epsilon-column").first().addClass("col8").attr("data-columns",8),e.context.find(".epsilon-column").last().addClass("col4").attr("data-columns",4);break;default:if(null===e.activeColumns)return;e.context.find(".epsilon-column").removeClass(e.colClasses).addClass("col"+12/e.activeColumns).attr("data-columns",12/e.activeColumns)}})},e.prototype._calc_column_resize=function(e,t){var n,o=e.attr("data-columns");void 0!==o&&(o=parseFloat(o),parseFloat(o)!==this.minSpan&&(n=t.attr("data-columns"),n=parseFloat(n),e.attr("data-columns",o-1).removeClass(this.colClasses).addClass("col"+(o-1)),t.attr("data-columns",n+1).removeClass(this.colClasses).addClass("col"+(n+1)),this.context.trigger({type:"epsilon_column_size_changed",instance:this})))},e.prototype._save=function(e){var t={columnsCount:e.instance.activeColumns,columns:{}};jQuery.each(e.instance.context.find(".epsilon-column"),function(e){var n=jQuery(this).attr("data-columns");if(void 0!==n){n=parseFloat(n);var o={index:e+1,span:n};t.columns[e]=o}}),null===t.columnsCount&&(t.columnsCount=e.instance.context.find(".epsilon-column").length),e.instance.dataLink.val(JSON.stringify(t)).trigger("change")},e}();t.EpsilonLayouts=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.context=jQuery(e.container),this.editorId=e.params.id+"-editor",this.init()}return e.prototype.init=function(){wp.editor.initialize(this.editorId,{tinymce:{wpautop:!0,setup:function(e){e.on("change",function(t){e.save(),jQuery(e.getElement()).trigger("change")})}},quicktags:!0})},e}();t.EpsilonTextEditor=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(e){this.control=e,this.context=jQuery(e.container),this.container=this.context.find(".epsilon-typography-container"),this.selects=this.container.find("select"),this.inputs=this.container.find(".epsilon-typography-input"),this.sliders=this.container.find(".slider-container"),this.id=e.params.id,this.init()}return e.prototype.init=function(){var e=this;try{this._selectize=this.selects.selectize()}catch(e){console.warn("selectize not yet loaded")}this.context.on("click",".epsilon-typography-advanced > a",function(e){var t=jQuery(this).attr("data-toggle");e.preventDefault(),jQuery(this).toggleClass("active").parent().toggleClass("active"),jQuery("#"+t).slideToggle().addClass("active")}),jQuery.each(this.sliders,function(t,n){var i=jQuery(n).attr("data-slider-type"),s={container:n,params:{value:0,id:"",sliderControls:{min:0,max:10,step:1}}};switch(i){case"letter-spacing":s.params.value=e.control.params.inputs["letter-spacing"],s.params.id=e.control.params.id+"-letter-spacing",s.params.sliderControls.min=0,s.params.sliderControls.max=5,s.params.sliderControls.step=.1;break;case"line-height":s.params.value=e.control.params.inputs["line-height"],s.params.id=e.control.params.id+"-line-height",s.params.sliderControls.min=0,s.params.sliderControls.max=40,s.params.sliderControls.step=1;break;default:s.params.value=e.control.params.inputs["font-size"],s.params.id=e.control.params.id+"-font-size",s.params.sliderControls.min=0,s.params.sliderControls.max=40,s.params.sliderControls.step=1}new o.EpsilonRangeSlider(s)}),this.handleEvents()},e.prototype.handleEvents=function(){var e=this;this.inputs.on("change",function(){var t=e._parseJson();jQuery("#hidden_input_"+e.id).val(t).trigger("change")})},e.prototype._parseJson=function(){var e=this,t={action:"epsilon_generate_typography_css",class:"Epsilon_Typography",id:this.id,data:{selectors:this.control.params.selectors,stylesheet:this.control.params.stylesheet,json:{}}},n=wp.customize;return jQuery.each(this.inputs,function(n,o){var i=jQuery(o).attr("id"),s=e.id+"-",r=jQuery(this).attr("type");i=i.replace(s,""),t.data.json[i]="checkbox"===r?jQuery(this).prop("checked")?jQuery(o).val():"":jQuery(o).val()}),n.previewer.send("update-inline-typography-css",t),JSON.stringify(t.data)},e}();t.EpsilonTypography=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(27),n(24),n(28),n(30),n(21),n(23),n(25),n(29),n(22),n(31),n(26),n(38),n(32),n(33),n(34),n(36)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12);wp.customize.controlConstructor["epsilon-color-picker"]=wp.customize.Control.extend({ready:function(){var e=this;new o.EpsilonColorPicker(e),e.container.on("change","input.epsilon-color-picker",function(t){e.setting.set(jQuery(t.target).val())})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(13);wp.customize.controlConstructor["epsilon-color-scheme"]=wp.customize.Control.extend({ready:function(){var e=this;wp.customize.bind("ready",function(){new o.EpsilonColorSchemes(e)}),e.container.on("change",".epsilon-color-scheme-input",function(t){e.setting.set(jQuery(t.target).val())})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(14);wp.customize.controlConstructor["epsilon-customizer-navigation"]=wp.customize.Control.extend({ready:function(){var e=this;new o.EpsilonCustomizerNavigation(e)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15);wp.customize.controlConstructor["epsilon-icon-picker"]=wp.customize.Control.extend({ready:function(){var e=this;new o.EpsilonIconPicker(e,!1),e.container.on("change","input.epsilon-icon-picker",function(t){e.setting.set(jQuery(t.target).val())})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(16);wp.customize.controlConstructor["epsilon-image"]=wp.customize.Control.extend({ready:function(){var e=this;new o.EpsilonImage(e)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);wp.customize.controlConstructor["epsilon-layouts"]=wp.customize.Control.extend({ready:function(){var e=this;new o.EpsilonLayouts(e),e.container.on("change","input",function(t){e.setting.set(jQuery(t.target).val())})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);wp.customize.controlConstructor["epsilon-slider"]=wp.customize.Control.extend({ready:function(){var e=this;new o.EpsilonRangeSlider(e),e.container.on("change","input.rl-slider",function(t){e.setting.set(jQuery(t.target).val())})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(18);wp.customize.controlConstructor["epsilon-text-editor"]=wp.customize.Control.extend({ready:function(){var e=this;new o.EpsilonTextEditor(e),e.container.on("change keyup","textarea",function(t){e.setting.set(jQuery(t.target).val())})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(19);wp.customize.controlConstructor["epsilon-typography"]=wp.customize.Control.extend({ready:function(){var e=this;new o.EpsilonTypography(e),e.container.on("change",".customize-control-content > .epsilon-typography-input",function(t){e.setting.set(jQuery(t.target).val())})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),wp.customize.controlConstructor["epsilon-toggle"]=wp.customize.Control.extend({ready:function(){var e=this;e.container.on("change","input.onoffswitch-checkbox",function(t){e.setting.set(jQuery(t.target).prop("checked"))})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),wp.customize.controlConstructor["epsilon-upsell"]=wp.customize.Control.extend({ready:function(){var e=this;e.container.on("click",".epsilon-upsell-label",function(t){t.preventDefault(),jQuery(this).toggleClass("opened").find("i").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2"),e.container.find(".epsilon-upsell-container").slideToggle(200)})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),wp.customize.panelConstructor["epsilon-panel-regular"]=wp.customize.Panel.extend({_panelEmbed:wp.customize.Panel.prototype.embed,_panelIsContextuallyActive:wp.customize.Panel.prototype.isContextuallyActive,_panelAttachEvents:wp.customize.Panel.prototype.attachEvents,ready:function(){this.params.hidden&&this.container.addClass("epsilon-hidden"),wp.customize.bind("pane-contents-reflowed",function(){var e=[];wp.customize.panel.each(function(t){"epsilon-panel-regular"===t.params.type&&void 0!==t.params.panel&&e.push(t)}),e.sort(wp.customize.utils.prioritySort).reverse(),jQuery.each(e,function(e,t){jQuery("#sub-accordion-panel-"+t.params.panel).children(".panel-meta").after(t.headContainer)}),jQuery(document).trigger("epsilon-reflown-panels")})},attachEvents:function(){var e=this;if("epsilon-panel-regular"!==this.params.type||void 0===this.params.panel)return void this._panelAttachEvents.call(this);this._panelAttachEvents.call(this),e.expanded.bind(function(t){var n=wp.customize.panel(e.params.panel);t?n.contentContainer.addClass("current-panel-parent"):n.contentContainer.removeClass("current-panel-parent")}),e.container.find(".customize-panel-back").off("click keydown").on("click keydown",function(t){wp.customize.utils.isKeydownButNotEnterEvent(t)||(t.preventDefault(),e.expanded()&&wp.customize.panel(e.params.panel).expand())})},isContextuallyActive:function(){var e=this,t=this._children("panel","section"),n=0;return"epsilon-panel-regular"!==this.params.type?this._panelIsContextuallyActive.call(this):(wp.customize.panel.each(function(n){n.params.panel&&n.params.panel===e.id&&t.push(n)}),t.sort(wp.customize.utils.prioritySort),_(t).each(function(e){e.active()&&e.isContextuallyActive()&&(n+=1)}),0!==n)},embed:function(){var e=this,t=jQuery("#sub-accordion-panel-"+this.params.panel);if("epsilon-panel-regular"!==this.params.type||void 0===this.params.panel)return void this._panelEmbed.call(this);this._panelEmbed.call(this),t.append(e.headContainer)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(35);wp.customize.sectionConstructor["epsilon-section-doubled"]=wp.customize.Section.extend({ready:function(){new o.EpsilonSectionDoubled(this)},attachEvents:function(){},isContextuallyActive:function(){return!0}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),wp.customize.sectionConstructor["epsilon-section-pro"]=wp.customize.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.section=e,this.createParent(),this.section.container.appendTo(this.parent),this.handleEvents()}return e.prototype.handleEvents=function(){var e=this;this.section.container.on("click",".epsilon-close-doubled-section",function(e){e.preventDefault(),jQuery("body").removeClass("adding-doubled-section"),jQuery("body").find(".doubled-section-opened").removeClass("doubled-section-opened")}),this.section.headContainer.on("click",function(t){var n,o,i;t.preventDefault(),jQuery("body").hasClass("adding-section")||(n=e.parent.find(".doubled-section-opened"),n.length&&n.removeClass("doubled-section-opened"),jQuery("body").hasClass("adding-doubled-section")?(o=jQuery(this).attr("id"),"undefined"!==o&&(o=o.replace("accordion-section-","")),i=n.attr("id"),"undefined"!==i&&(i=i.replace("sub-accordion-section-","")),i===o&&jQuery("body").removeClass("adding-doubled-section")):jQuery("body").toggleClass("adding-doubled-section"),jQuery.each(this.section.container,function(){jQuery(this).is("li")||jQuery(this).addClass("doubled-section-opened")}))})},e.prototype.createParent=function(){var e=jQuery(".wp-full-overlay").find(".doubled-section-parent");e.length||(jQuery(".wp-full-overlay").append('<div class="doubled-section-parent"></div>'),e=jQuery(".wp-full-overlay").find(".doubled-section-parent"),this.parent=e),this.parent=e},e}();t.EpsilonSectionDoubled=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(37);wp.customize.sectionConstructor["epsilon-section-recommended-actions"]=wp.customize.Section.extend({ready:function(){new o.EpsilonSectionRecommended(this)},attachEvents:function(){},isContextuallyActive:function(){return!0}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.ajax=!1,this.section=e,this.context=this.section.container,this.actions=this.section.params.actions.length,this.handleDismissals(),this.handleEvents()}return e.prototype.handleDismissals=function(){this._dismissPlugin(),this._dismissAction()},e.prototype.handleEvents=function(){this.context.on("click",".epsilon-close-recommended-section",function(e){e.preventDefault(),jQuery(this).find("span").toggleClass("dashicons-arrow-down-alt2"),jQuery(".recommended-actions_container").slideToggle(200)}),jQuery(document).on("epsilon-plugin-activated",function(e,t){var n=jQuery("span#"+t.plugin).parents(".epsilon-recommended-plugins"),o=n.next();n.fadeOut("200",function(){o.css({opacity:1,height:"initial"}).fadeIn("200")})})},e.prototype._dismissPlugin=function(){var e=this;this.context.find(".epsilon-recommended-plugin-button").on("click",function(t){var n,o,i=jQuery(this),s=i.parents(".epsilon-recommended-actions-container"),r=s.next(),a=s.parents(".control-section-epsilon-section-recommended-actions").find("h3"),c={action:["Epsilon_Notify_System","dismiss_required_action"],nonce:EpsilonWPUrls.ajax_nonce,args:{id:jQuery(this).attr("id"),option:jQuery(this).attr("data-option")}};e.ajax||(e.ajax=!0,jQuery.ajax({type:"POST",data:{action:"epsilon_framework_ajax_action",args:c},dataType:"json",url:EpsilonWPUrls.ajaxurl,success:function(t){e.ajax=!1,t.status&&"ok"===t.message&&s.fadeOut("200",function(){r.is("p")&&(n=a.find(".section-title"),o=n.attr("data-social"),n.text(o)),r.css({opacity:1,height:"initial"}).fadeIn("200")})},error:function(t,n,o){e.ajax=!1,console.log(t+" :: "+n+" :: "+o)}}))})},e.prototype._dismissAction=function(){var e=this;this.context.find(".epsilon-dismiss-required-action").on("click",function(t){var n,o,i,s=jQuery(this),r=s.parents(".epsilon-recommended-actions-container"),a=r.parents(".control-section-epsilon-section-recommended-actions").find("h3"),c=a.find(".epsilon-actions-count > .current-index"),l=r.next(),u={action:["Epsilon_Notify_System","dismiss_required_action"],nonce:EpsilonWPUrls.ajax_nonce,args:{id:jQuery(this).attr("id"),option:jQuery(this).attr("data-option")}},p=c.attr("data-total"),d=r.attr("data-index");"undefined"!==p&&(p=parseInt(p)),"undefined"!==d&&(d=parseInt(d)),e.ajax||(e.ajax=!0,jQuery.ajax({type:"POST",data:{action:"epsilon_framework_ajax_action",args:u},dataType:"json",url:EpsilonWPUrls.ajaxurl,success:function(t){e.ajax=!1,t.status&&"ok"===t.message&&(p<=d?(n=a.find(".section-title"),o=jQuery(".epsilon-recommended-plugins"),i=n.attr("data-social"),o.length&&(i=n.attr("data-plugin_text")),a.find(".epsilon-actions-count").remove(),n.text(i)):c.text(d+1),r.fadeOut("200",function(){l.css({opacity:1,height:"initial"}).fadeIn("200")}))},error:function(t,n,o){console.log(t+" :: "+n+" :: "+o),e.ajax=!1}}))})},e}();t.EpsilonSectionRecommended=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(39);wp.customize.controlConstructor["epsilon-repeater"]=wp.customize.Control.extend({ready:function(){var e=this;new o.EpsilonFieldRepeater(e)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),i=n(40),s=function(){function e(e){this.rows=[],this.currentIndex=0,this.control=e,this.context=e.container,this.utils=new i.EpsilonRepeaterUtils,this.template=this.utils.repeaterTemplate(),this.settingField=this.context.find("[data-customize-setting-link]"),this.repeaterContainer=this.context.find(".repeater-fields"),_.isUndefined(this.control.params.choices.limit)||(this.limit=!(0>=this.control.params.choices.limit)&&parseInt(this.control.params.choices.limit)),this.handleEvents(),this.createExistingRows(),this.initSortable()}return e.prototype.createExistingRows=function(){var e=this;this.control.params.value.length&&_.each(e.control.params.value,function(t){var n;n=e.utils.add(e,t),new o.EpsilonRepeaterAddons(n)})},e.prototype.handleEvents=function(){var e=this;this.context.on("click","button.epsilon-repeater-add",function(t){var n;t.preventDefault(),!e.limit||e.currentIndex<e.limit?(n=e.utils.add(e),new o.EpsilonRepeaterAddons(n)):jQuery(e.control.selector+" .limit").addClass("highlight")}),this.context.on("click",".repeater-row-remove",function(t){e.handleRowDecrementor(),(!e.limit||e.currentIndex<e.limit)&&jQuery(e.control.selector+" .limit").removeClass("highlight")})},e.prototype.initSortable=function(){var e=this;this.repeaterContainer.sortable({handle:".repeater-row-header",axis:"y",distance:15,update:function(t,n){e.utils.sort(e,n)}})},e.prototype.handleRowIncrementor=function(){this.currentIndex++},e.prototype.handleRowDecrementor=function(){this.currentIndex--},e}();t.EpsilonFieldRepeater=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),i=function(){function e(){}return e.prototype.delete=function(e,t){var n,o,i=e.control.utils.getValue(e.control);i[t]&&(e=e.control.rows[t])&&(delete i[t],delete e.control.rows[t]),i=e.control.utils.cleanArray(i),e.control.rows=e.control.utils.cleanArray(e.control.rows),jQuery.each(e.control.rows,function(t,n){e.control.utils.setIndex(n,t)}),e.control.utils.setValue(e.control,i,!0),n=1;for(o in e.control.rows)e.control.rows.hasOwnProperty(o)&&e.control.rows[o]&&(e.control.utils.updateLabel(e.control.rows[o]),n++);e.control.handleRowDecrementor()},e.prototype.add=function(e,t){var n,i,s,r,a=_.memoize(e.template),c={},l=e.utils.getValue(e);if(!a)return!1;if(n=jQuery.extend(!0,{},e.control.params.fields),t)for(i in t)t.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(n[i].default=t[i]);n.index=e.currentIndex,a=a(n),s=jQuery(a).appendTo(e.repeaterContainer),r=new o.EpsilonRepeaterRow(e,s),this.handleRowEvents(r),e.rows[e.currentIndex]=r;for(i in n)n.hasOwnProperty(i)&&(c[i]=n[i].default);return void 0===c.index&&(c.index=e.currentIndex),l[e.currentIndex]=c,t||e.utils.setValue(e,l,!0),e.handleRowIncrementor(r),r},e.prototype.sort=function(e,t){var n=e.repeaterContainer.find(".repeater-row"),o=e.utils.getValue(e),i=[],s=[],r=[];n.each(function(e,t){i.push(jQuery(t).data("row"))}),jQuery.each(i,function(t,n){s[t]=e.rows[n],e.utils.setIndex(s[t],t),r[t]=o[n]}),e.rows=s,e.utils.setValue(e,r)},e.prototype.setValue=function(e,t,n){e.control.setting.set([]),e.control.setting.set(t)},e.prototype.getValue=function(e){return e.control.setting.get()},e.prototype.updateField=function(e,t,n){var o=e.control.rows[e.index],i=e.control.utils.getValue(e.control);if(o&&e.control.control.params.fields[t]&&!_.isUndefined(i[o.index][t])){switch(e.control.control.params.fields[t].type){case"checkbox":case"epsilon-toggle":i[o.index][t]=jQuery(n).prop("checked");break;default:i[o.index][t]=jQuery(n).val()}e.control.utils.setValue(e.control,i,!0)}},e.prototype.repeaterTemplate=function(){var e,t={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(n){return(e=_.template(jQuery(".customize-control-epsilon-repeater-content-field").html(),null,t))(n)}},e.prototype.setIndex=function(e,t){e.index=t,e.container.attr("data-row",t),e.container.data("row",t),e.control.utils.updateLabel(e)},e.prototype.removeRow=function(e){e.container.slideUp(300,function(){jQuery(this).detach()}),e.container.trigger("row:remove",[e.index])},e.prototype.updateLabel=function(e){var t,n,o;if("field"===e.label.type&&(t=e.container.find('.repeater-field [data-field="'+e.label.field+'"]'),_.isFunction(t.val)&&""!==(n=t.val())))return _.isUndefined(e.control.control.params.fields[e.label.field])||_.isUndefined(e.control.control.params.fields[e.label.field].type)||("select"===e.control.control.params.fields[e.label.field].type?_.isUndefined(e.control.control.params.fields[e.label.field].choices)||_.isUndefined(e.control.control.params.fields[e.label.field].choices[n])||(n=e.control.control.params.fields[e.label.field].choices[n]):"radio"!==e.control.control.params.fields[e.label.field].type&&"radio-image"!==e.control.control.params.fields[e.label.field].type||(o=e.control.control.selector+' [data-row="'+e.index+'"] .repeater-field [data-field="'+e.label.field+'"]:checked',n=jQuery(o).val())),void e.header.find(".repeater-row-label").text(n);e.header.find(".repeater-row-label").text(e.label.value+" "+(e.index+1))},e.prototype.toggleMinimize=function(e){e.container.find(".repeater-row-content").slideToggle(300,function(){e.container.toggleClass("minimized"),e.header.find(".dashicons").toggleClass("dashicons-arrow-up").toggleClass("dashicons-arrow-down")})},e.prototype.cleanArray=function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},e.prototype.handleRowEvents=function(e){var t=this;e.container.on("row:remove",function(n,o){t.delete(e,o)}),e.header.on("mousedown",function(){e.container.trigger("row:start-dragging")})},e}();t.EpsilonRepeaterUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.control=e,this.index=e.currentIndex,this.container=t,this.label=e.control.params.rowLabel,this.header=this.container.find(".repeater-row-header"),this.footer=this.container.find(".repeater-row-footer"),this.handleEvents(),this.control.utils.updateLabel(this)}return e.prototype.handleEvents=function(){var e=this.control,t=this;this.header.on("click",function(){e.utils.toggleMinimize(t)}),this.container.on("click",".repeater-row-minimize",function(){e.utils.toggleMinimize(t)}),this.container.on("click",".repeater-row-remove",function(){e.utils.removeRow(t)}),this.container.on("keyup change","input, select, textarea",function(n){e.utils.updateField(t,jQuery(n.target).data("field"),n.target),e.utils.updateLabel(t)})},e}();t.EpsilonRepeaterRow=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(e){this.row=e,this.initRangeSliders(),this.handleImageUploads()}return e.prototype.handleImageUploads=function(){var e,t=this;for(var n in t.row.control.control.params.fields)"epsilon-image"===t.row.control.control.params.fields[n].type&&(!0,t.row.container.on("click keypress",".epsilon-controller-image-container .image-upload-button",function(n){n.preventDefault(),wp.customize.utils.isKeydownButNotEnterEvent(n)||(e=jQuery(this).parents(".epsilon-controller-image-container"),t.imageUpload(e))}),t.row.container.on("click keypress",".epsilon-controller-image-container .image-upload-remove-button",function(n){n.preventDefault(),wp.customize.utils.isKeydownButNotEnterEvent(n)||(e=jQuery(this).parents(".epsilon-controller-image-container"),t.imageRemoval(e))}))},e.prototype.imageUpload=function(e){var t,n,o,i=this,s={},r=wp.media({multiple:!1}).open();r.on("select",function(){o=e.find("input"),t=r.state().get("selection").first(),n=o.attr("data-size"),void 0===t.toJSON().sizes[n]&&(n="full"),s.id=t.id,s.url=t.toJSON().sizes[n].url,i._setImage(e,s.url),o.attr("value","url"===o.attr("data-save-mode")?s.url:s.id).trigger("change"),e.find(".actions .image-upload-remove-button").show()})},e.prototype.imageRemoval=function(e){var t=e.find(".epsilon-image");t.length&&t.find("img").fadeOut(200,function(){t.removeClass("epsilon-image").addClass("placeholder").html(EpsilonTranslations.selectFile)}),e.find(".actions .image-upload-remove-button").hide(),e.find("input").attr("value","").trigger("change")},e.prototype._setImage=function(e,t){var n=e.find(".epsilon-image").length?e.find(".epsilon-image"):e.find(".placeholder");n.length&&(n.removeClass("epsilon-image placeholder").addClass("epsilon-image"),n.html(""),n.append('<img style="display:none" src="'+t+'" />'),n.find("img").fadeIn(200))},e.prototype.iconPicker=function(){},e.prototype._iconPickerToggle=function(){},e.prototype._iconPickerSelection=function(){},e.prototype._iconPickerFilter=function(){},e.prototype.textEditor=function(){},e.prototype.reinitTextEditor=function(){},e.prototype.initRangeSliders=function(){var e,t=this;for(var n in t.row.control.control.params.fields)"epsilon-slider"===t.row.control.control.params.fields[n].type&&(!0,e={container:t.row.container,params:{id:t.row.control.control.params.fields[n].id,sliderControls:{min:t.row.control.control.params.fields[n].choices.min,max:t.row.control.control.params.fields[n].choices.max,step:t.row.control.control.params.fields[n].choices.step}}},void 0!==t.row.control.control.params.value[t.row.index]&&(e.params.value=parseFloat(t.row.control.control.params.value[t.row.index][n])),new o.EpsilonRangeSlider(e))},e}();t.EpsilonRepeaterAddons=i}]);
//# sourceMappingURL=epsilon-framework-customizer.js.map